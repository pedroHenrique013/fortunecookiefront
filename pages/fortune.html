<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../style.css" />
    <title>Document</title>
  </head>
  <body>
    <header class="header">
      <p class="logo">
        <img
          class="cookie"
          id="img-cookiee"
          src="../img/biscoito-da-sorte.png"
          alt="biscoito da sorte"
        />Fortune Cookie
      </p>
      <ul>
        <li><a id="home" class="action" href="../index.html">Inicio</a></li>
      </ul>
    </header>
    <section class="container">
      <img
        class="cookiee-open"
        id="img"
        src="../img/biscoito.png"
        alt="Biscoito Chines"
      />
      <button id="open-cookiee" onclick="trocar()">Abrir Biscoito</button>
    </section>
    <div class="modal">
      <h1 id="message">""</h1>
    </div>
  </body>
  <script>
   // Função para trocar a imagem do cookie e exibir a mensagem
function trocar() {
  // Alterar a imagem do cookie
  const imgElement = document.getElementById("img");
  imgElement.src = "../img/cookiee-animation.gif";
  imgElement.style.width = "600px";
  
  // Esconder o botão "Abrir Cookie"
  document.getElementById("open-cookiee").style.display = "none";

  // Fazer uma requisição para obter a frase do servidor
  fetch("https://fortunecookieback.vercel.app/phrases")
    .then((response) => response.text())
    .then((data) => {
      console.log(data);
      // Exibir a frase obtida na página
      document.getElementById("message").textContent = data;

      // Exibir o modal após 3.2 segundos
      const modal = document.querySelector(".modal");
      setTimeout(() => {
        modal.style.display = "flex";
        modal.style.justifyContent = "center";
        modal.style.alignItems = "center";
      }, 3200);
    })
    .catch((error) => {
      console.error("Erro ao obter frase:", error);
    });
}

// Iniciar a página com a classe "action" no elemento "fortune"
document.getElementById("home").classList.remove("action");
document.getElementById("fortune").classList.add("action");

  </script>
</html>
